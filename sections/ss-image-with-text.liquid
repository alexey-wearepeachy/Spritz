<div class="hero ss-image-width-text">
  <div class="ss-container">
    {% if section.settings.heading != blank %}
    <div class="heading_wrapper">
      <h2 class="heading">{{ section.settings.heading }}</h2>
    </div>
    {% endif %}
    <div class=" grid grid--1-col grid--2-col-tablet">
      {% if section.settings.image != blank or section.settings.image_mb != blank %}
      <div class="hero-image grid__item">
        <div class="img_wrapper small-hide media" {% if section.settings.image != blank %}style="padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;"{% endif %}>
        <img srcset="{%- if section.settings.image.width >= 165 -%}{{ section.settings.image | img_url: '165x' }} 165w,{%- endif -%}
              {%- if section.settings.image.width >= 360 -%}{{ section.settings.image | img_url: '360x' }} 360w,{%- endif -%}
              {%- if section.settings.image.width >= 535 -%}{{ section.settings.image | img_url: '535x' }} 535w,{%- endif -%}
              {%- if section.settings.image.width >= 720 -%}{{ section.settings.image | img_url: '720x' }} 720w,{%- endif -%}
              {%- if section.settings.image.width >= 940 -%}{{ section.settings.image | img_url: '940x' }} 940w,{%- endif -%}
              {%- if section.settings.image.width >= 1070 -%}{{ section.settings.image | img_url: '1070x' }} 1070w{%- endif -%}"
              src="{{ section.settings.image | img_url: '768x' }}"
              sizes="(min-width: 1100px) 940px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" 
              alt="{{ section.settings.image.alt | escape }}"
              loading="lazy"
              width="{{ section.settings.image.width }}"
              height="{{ section.settings.image.height }}"
            >
          </div>
          <div class="img_wrapper medium-hide large-up-hide media" {% if section.settings.image_mb != blank %}style="padding-bottom: {{ 1 | divided_by: section.settings.image_mb.aspect_ratio | times: 100 }}%;"{% endif %}>
            <img srcset="{%- if section.settings.image_mb.width >= 165 -%}{{ section.settings.image_mb | img_url: '165x' }} 165w,{%- endif -%}
            {%- if section.settings.image_mb.width >= 360 -%}{{ section.settings.image_mb | img_url: '360x' }} 360w,{%- endif -%}
            {%- if section.settings.image_mb.width >= 535 -%}{{ section.settings.image_mb | img_url: '535x' }} 535w,{%- endif -%}
            {%- if section.settings.image_mb.width >= 720 -%}{{ section.settings.image_mb | img_url: '720x' }} 720w,{%- endif -%}
            {%- if section.settings.image_mb.width >= 940 -%}{{ section.settings.image_mb | img_url: '940x' }} 940w,{%- endif -%}
            {%- if section.settings.image_mb.width >= 1070 -%}{{ section.settings.image_mb | img_url: '1070x' }} 1070w{%- endif -%}"
            src="{{ section.settings.image_mb | img_url: '533x' }}"
            sizes="(min-width: 1100px) 535px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" 
            alt="{{ section.settings.image_mb.alt | escape }}"
            loading="lazy"
            width="{{ section.settings.image_mb.width }}"
            height="{{ section.settings.image_mb.height }}"
            >
          </div>
      </div>
      {% endif %}
      <div class="hero-content grid__item">
        <div class="hero-text">
          {{ section.settings.text }}
        </div>
        {% if section.settings.btn_link != blank and section.settings.btn_text != blank %}
        <div class="image-with-text-btns">
          <a class="polygone-btn" href="{{ section.settings.btn_link }}">{{ section.settings.btn_text }}</a>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name" : "Image with heading text",
  "tag" : "section",
  "class" : "spaced-section spaced-section--full-width",
  "settings" : [
    {
      "type" : "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type" : "richtext",
      "id": "text",
      "label": "text"
    },
    {
      "type" : "text",
      "id": "btn_text",
      "label": "Button label"
    },
    {
      "type" : "url",
      "id": "btn_link",
      "label": "Button link"
    },
    {
      "type" : "image_picker",
      "id": "image",
      "label": "Image desktop"
    },
    {
      "type" : "image_picker",
      "id": "image_mb",
      "label": "Image mobile"
    }
  ],
  "presets": [
    {
      "name": "Image with heading text"
    }
  ]
}
{% endschema %}